<!DOCTYPE html>
<html lang="en">
<head>
        <title>The soft jaguar</title>
    <meta charset="utf-8" />
    <meta name="description" content="Darío Blanco webpage">
    <meta name="author" content="Darío Blanco">
    <link href="../../../../../theme/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../../../theme/css/darioblanco.css" rel="stylesheet">
    <link href="../../../../../theme/css/pygments.css" rel="stylesheet">
    <style> body { padding-top: 60px; }</style>
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
        <link href="http://thesoftjaguar.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The soft jaguar Full Atom Feed" />
            <link href="http://thesoftjaguar.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="The soft jaguar Full RSS Feed" />
                    <link href="http://thesoftjaguar.com/feeds/hackathon.atom.xml" type="application/atom+xml" rel="alternate" title="The soft jaguar Categories Atom Feed" />
            <link href="http://thesoftjaguar.com/feeds/hackathon.rss.xml" type="application/rss+xml" rel="alternate" title="The soft jaguar Categories RSS Feed" />
            <link href="http://thesoftjaguar.com/feeds/.atom.xml" type="application/atom+xml" rel="alternate" title="The soft jaguar Tags Atom Feed" />
            <link href="http://thesoftjaguar.com/feeds/.rss.xml" type="application/rss+xml" rel="alternate" title="The soft jaguar Tags RSS Feed" />
        </head>

<body>
            <div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="../../../../../index.html">The soft jaguar</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
                        <li id="blog-tab" class="navbar-tab active"><a href="../../../../../index.html"><i class="icon-pencil icon-white"></i> Blog</a></li>
                        <li id="archive-tab" class="navbar-tab "><a href="../../../../../archives.html"><i class="icon-briefcase icon-white"></i> Archive</a></li>
                        <li id="tags-tab" class="navbar-tab "><a href="../../../../../tags.html"><i class="icon-certificate icon-white"></i> Tags</a></li>
                        <li id="projects-tab" class="navbar-tab "><a href="../../../../../projects.html"><i class="icon-wrench icon-white"></i> Projects</a></li>
                        <li id="presentations-tab" class="navbar-tab "><a href="../../../../../presentations.html"><i class="icon-eye-open icon-white"></i> Presentations</a></li>
                    </ul>
        <ul class="nav pull-right">
            <li><a href="http://www.linkedin.com/in/darioblancoiturriaga" target="_blank" title="LinkedIn"><img width="16" src="../../../../../theme/img/linkedin.png"></a></li>
            <li><a href="https://github.com/sharkerz" target="_blank" title="Github"><img width="16" src="../../../../../theme/img/github.png"></a></li>
            <li><a href="https://www.facebook.com/dario.blancoit" target="_blank" title="Facebook"><img width="16" src="../../../../../theme/img/facebook.png"></a></li>
            <li><a href="https://twitter.com/darioblanco" target="_blank" title="Twitter"><img width="16" src="../../../../../theme/img/twitter.png"></a></li>
            <li><a href="mailto:dario@darioblanco.com" target="_blank" title="Email"><img width="16" src="../../../../../theme/img/email.png"></a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>    
    <div class="container">
    <header>
  <h1 class="entry-title">Hackathon project: Jenkins is calling</h1>

written on <div class="article-date">Tuesday, 04 September, 2012</div>
<div class="article-tags">
<span class="label"><a href="/tag/hackathon.html">hackathon</a></span> <span class="label"><a href="/tag/jenkins.html">jenkins</a></span> <span class="label"><a href="/tag/android.html">android</a></span> <span class="label"><a href="/tag/java.html">java</a></span> <span class="label"><a href="/tag/websockets.html">websockets</a></span> <span class="label"><a href="/tag/tornado.html">tornado</a></span> <span class="label"><a href="/tag/python.html">python</a></span> </div>
</header>
<hr>
<article>
<div class="entry-content">
  <p><h2>What is a Hackathon?</h2>
<p>In the company I work for, <a href="http://www.edelight.de/">edelight</a>, we have Hackathon days. The idea is to team up with colleagues and work on a project of your choice for one entire day. There are no limitations on what you want to do and at the end of the day you have to present a prototype to all the team. So the last Hackathon was in July and there were a lot of interesting projects, you can always check what is happening in our <a href="http://labs.edelight-group.com/">team blog</a>.</p>
<h2>Having fun with Jenkins</h2>
<p>We have a continuous integration server using <a href="http://jenkins-ci.org/">Jenkins</a>, with a post-hook to our github repos for tracking the master branch on every project. It is really important for checking if the build is failing in the staging server, and it helps a lot in terms of code quality.</p>
<p>In my case, I decided to create a really basic Android application, showing an annoying window with a silly background music whenever the Jenkins build is red (failing), or when is switching from the red state to blue (fixed).</p>
<h2>A technical approach</h2>
<p>In order to have an asynchronous communication, the Android application is implementing a <a href="http://tools.ietf.org/html/rfc6455">WebSocket</a> Java client, subscribed to a <a href="http://www.tornadoweb.org/en/stable/">Tornado</a> application that implements the WebSocket server. If you are a bit scared about Tornado, please don't, it is quite easy to create a <a href="http://www.tornadoweb.org/en/stable/websocket.html?highlight=websockets">WebSocket server</a>.</p>
<p><img alt="Android app main view" src="http://i.imgur.com/SFpfb.png" /></p>
<h2>The push notification</h2>
<p>Once the client is subscribed, every time a Jenkins build is changing its status to <code>failing</code> or <code>fixed</code>, the Tornado app will know it and will send a broadcast message (push message) to all the suscribers. In that case, the Android client (even if it is in sleeping mode), will populate the Activity window in front of all the ones that you had opened before, and an awesome music (copyright free of course) will be played.</p>
<h2>The build is failing ¬¬</h2>
<p>When a new commit is pushed into master, Jenkins runs the project tests, code coverage, pep8, pylint... If something is wrong, the build will fail. In that case, the mobile phone will display the TROLOLO window, with the <a href="http://youtu.be/ednKK8GlvwI">TROLOLO song</a>.</p>
<h2>The build is fixed ^^</h2>
<p>Of course, if the build is failing, someone has to fix it. If a benevolent soul has commited the patch fix into master, Jenkins will pass all the tests again, and it will stop spamming our email accounts. The way in which it stops the spam is quite funny: sending a last email message saying that it is fixed.</p>
<p>However, I thought that the spam wasn't enough, so in that case, your mobile phone will also display the KEYBOARD CAT window, and the <a href="http://youtu.be/J---aiyznGQ">KEYBOARD CAT song</a> as a token of victory.</p>
<h2>Life's for sharing</h2>
<p>You can browse the code on <a href="https://github.com/sharkerz/jenkins-calling">github</a>. I haven't had a lot of time for developing this, so I haven't cleaned the code a lot (and I'm sharing the client only), but if someone is really interested in it, you can always ping me in twitter or by email.</p></p>
</div><!-- /.entry-content -->
</article>
<hr>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'thesoftjaguar';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a></noscript>
        <hr>
        <footer>
            &copy; Darío Blanco 2011-2013 - <a href="mailto:dario@darioblanco.com">dario@darioblanco.com</a>
        </footer>
    </div> <!-- /container -->

    <script src="../../../../../theme/js/bootstrap.min.js"></script>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27981742-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>